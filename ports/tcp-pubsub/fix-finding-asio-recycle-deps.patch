From 23277e275fe3b255a2d8ff40ef501e7b95047a6f Mon Sep 17 00:00:00 2001
From: Adrien Bourdeaux <bourdeaux.adrien@gmail.com>
Date: Mon, 14 Apr 2025 11:35:20 -0400
Subject: [PATCH] fix-deps

---
 tcp_pubsub/CMakeLists.txt | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/tcp_pubsub/CMakeLists.txt b/tcp_pubsub/CMakeLists.txt
index 2ef4582..0f8cc58 100644
--- a/tcp_pubsub/CMakeLists.txt
+++ b/tcp_pubsub/CMakeLists.txt
@@ -10,8 +10,8 @@ set(CMAKE_CXX_VISIBILITY_PRESET hidden)
 set(CMAKE_VISIBILITY_INLINES_HIDDEN 1)
 
 find_package(Threads REQUIRED)
-find_package(asio REQUIRED)
-find_package(recycle REQUIRED)
+find_package(asio CONFIG REQUIRED)
+find_path(RECYCLE_INCLUDE_DIRS "recycle/no_locking_policy.hpp")
 
 # Include GenerateExportHeader that will create export macros for us
 include(GenerateExportHeader)
@@ -73,7 +73,6 @@ target_link_libraries(${PROJECT_NAME}
         # Link header-only libs (asio & recycle) as described in this workaround:
         # https://gitlab.kitware.com/cmake/cmake/-/issues/15415#note_633938
         $<BUILD_INTERFACE:asio::asio>
-        $<BUILD_INTERFACE:steinwurf::recycle>
 )
 
 target_compile_definitions(${PROJECT_NAME}
@@ -81,6 +80,7 @@ target_compile_definitions(${PROJECT_NAME}
         ASIO_STANDALONE
         ASIO_DISABLE_VISIBILITY
         _WIN32_WINNT=0x0601
+	${RECYCLE_INCLUDE_DIRS}
 )
 
 # Check if tcp_pubsub is an object library. If so, define TCP_PUBSUB_STATIC_DEFINE,
-- 
2.47.1.windows.2

